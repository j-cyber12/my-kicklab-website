(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{2986:(e,t,a)=>{Promise.resolve().then(a.bind(a,6926))},6926:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5155),n=a(2619),s=a.n(n),c=a(2115),i=a(7785);function l(){let[e,t]=(0,c.useState)([]);(0,c.useEffect)(()=>{let e=()=>{try{let e=window.localStorage.getItem("cart"),a=e?JSON.parse(e):[];t(Array.isArray(a)?a:[])}catch(e){t([])}};e();let a=()=>e();return window.addEventListener("cart:updated",a),()=>window.removeEventListener("cart:updated",a)},[]);let a=(0,c.useMemo)(()=>e.reduce((e,t)=>e+t.price*t.qty,0),[e]),n=(e,a)=>{t(t=>{let r=t.map(t=>t.id===e?{...t,qty:Math.max(0,t.qty+a)}:t).filter(e=>e.qty>0);try{window.localStorage.setItem("cart",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("cart:updated"))}catch(e){}return r})};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"Your Cart"}),(0,r.jsx)(s(),{href:"/",className:"text-sm text-blue-600 hover:underline",children:"Continue shopping"})]}),0===e.length?(0,r.jsx)("div",{className:"mt-12 text-center text-zinc-500",children:(0,r.jsx)("p",{children:"Your cart is empty."})}):(0,r.jsxs)("div",{className:"mt-6 grid gap-4",children:[e.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3 border border-token surface rounded-xl p-3",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-md overflow-hidden flex items-center justify-center",children:e.imageUrl?(0,r.jsx)("img",{alt:"",src:e.imageUrl,className:"object-cover w-full h-full"}):(0,r.jsx)("span",{className:"text-xs text-zinc-400",children:"No image"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-zinc-500",children:["$",e.price.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{className:"px-2 py-1 rounded border",onClick:()=>n(e.id,-1),"aria-label":"Decrease quantity",children:"-"}),(0,r.jsx)("span",{className:"min-w-[2ch] text-center",children:e.qty}),(0,r.jsx)("button",{className:"px-2 py-1 rounded border",onClick:()=>n(e.id,1),"aria-label":"Increase quantity",children:"+"})]}),(0,r.jsxs)("div",{className:"w-20 text-right font-medium",children:["$",(e.qty*e.price).toFixed(2)]})]},e.id)),(0,r.jsxs)("div",{className:"mt-2 flex items-center justify-between gap-3 border-t pt-4 flex-wrap",children:[(0,r.jsx)("button",{className:"text-sm text-zinc-600 hover:underline",onClick:()=>{try{window.localStorage.setItem("cart",JSON.stringify([])),window.dispatchEvent(new CustomEvent("cart:updated")),t([])}catch(e){}},children:"Clear cart"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 ml-auto",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold",children:["Total: $",a.toFixed(2)]}),(0,r.jsx)(i.default,{label:"Proceed to checkout"})]})]})]})]})}},7785:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var r=a(5155),n=a(2115),s=a(5704);function c(e){let{label:t="Proceed to checkout",className:a,prefill:c}=e,[i,l]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=()=>{try{let e=window.localStorage.getItem("cart"),t=e?JSON.parse(e):[];l(Array.isArray(t)?t:[])}catch(e){l([])}};e();let t=()=>e();return window.addEventListener("cart:updated",t),()=>window.removeEventListener("cart:updated",t)},[]);let d=(0,n.useMemo)(()=>{let e=[...i];if(c){let t=e.findIndex(e=>e.id===c.id);t>=0?e[t]={...e[t],qty:e[t].qty+c.qty}:e.push(c)}if(0===e.length)return"";let t=[];for(let a of(t.push("Hello! I'd like to order:"),e))t.push("• ".concat(a.name," x").concat(a.qty," — $").concat(Number(a.price).toFixed(2)," each")),a.imageUrl&&t.push("  Photo: ".concat(a.imageUrl));let a=e.reduce((e,t)=>e+Number(t.price)*Number(t.qty),0);return t.push(""),t.push("Total: $".concat(a.toFixed(2))),t.join("\n")},[i,c]),o=(0,n.useCallback)(()=>{var e;let t;if(!d)return;let a=encodeURIComponent(d),r=s.env.NEXT_PUBLIC_WHATSAPP_PHONE,n="https://wa.me/message/ZC23PRNRWILSN1".trim();if(n){let e=n.includes("?")?"&":"?";t="".concat(n).concat(e,"text=").concat(a)}else t=r&&/^\+?\d{7,}$/.test(r)?"https://wa.me/".concat(r.replace(/^\+/,""),"?text=").concat(a):"https://wa.me/?text=".concat(a);let c=null;try{let s=navigator;((null==(e=s.userAgentData)?void 0:e.mobile)===!0||/Android|iPhone|iPad|iPod|IEMobile|Opera Mini/i.test(s.userAgent||""))&&(c=n?t:r&&/^\+?\d{7,}$/.test(r)?"whatsapp://send?phone=".concat(r.replace(/^\+/,""),"&text=").concat(a):"whatsapp://send?text=".concat(a))}catch(e){}try{c?window.location.href=c:window.open(t,"_blank","noreferrer")}catch(e){window.location.href=t}},[d]);return(0,r.jsx)("button",{type:"button",onClick:o,disabled:!d,className:"btn btn-primary font-medium w-full sm:w-auto disabled:opacity-60 "+(a||""),"aria-label":t,children:t})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=2986)),_N_E=e.O()}]);